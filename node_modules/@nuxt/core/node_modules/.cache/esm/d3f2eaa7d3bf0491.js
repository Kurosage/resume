let fsp,path;_d3b‍.x([["addTemplates",()=>addTemplates]]);_d3b‍.w("fs",[["promises",["fsp"],function(v){fsp=v}]]);_d3b‍.w("path",[["default",["path"],function(v){path=v}]]);


       async function addTemplates (templatesDir, name, options) {
  const templates = await fsp.readdir(templatesDir)
  for (const template of templates) {
    const opts = {
      src: path.resolve(templatesDir, template),
      fileName: path.join(name, template),
      options
    }
    if (template.indexOf('plugin') === 0) {
      this.addPlugin(opts)
    } else {
      this.addTemplate(opts)
    }
  }
}
